<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>librfn: Benchmark</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">librfn
   </div>
   <div id="projectbrief">An ad-hoc utility library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Benchmark</div>  </div>
</div><!--header-->
<div class="contents">

<p>Benchmark mechanism for real-time processing modules.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrf__benchmark__t.html">rf_benchmark_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrf__benchmark__results__t.html">rf_benchmark_results_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaced165602cb607a91f167b3831b81d4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__librfn__benchmark.html#gaced165602cb607a91f167b3831b81d4c">rf_benchmark_init</a> (<a class="el" href="structrf__benchmark__t.html">rf_benchmark_t</a> *<a class="el" href="utiltest_8c.html#a424fd43fbf6184337ca3fd3346c1da6a">b</a>, uint64_t runtime)</td></tr>
<tr class="separator:gaced165602cb607a91f167b3831b81d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5827f6f9656fcac6ab1a904c512a6c27"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__librfn__benchmark.html#ga5827f6f9656fcac6ab1a904c512a6c27">rf_benchmark_running</a> (<a class="el" href="structrf__benchmark__t.html">rf_benchmark_t</a> *<a class="el" href="utiltest_8c.html#a424fd43fbf6184337ca3fd3346c1da6a">b</a>)</td></tr>
<tr class="separator:ga5827f6f9656fcac6ab1a904c512a6c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f48050732fee46aeec8b7cf3fbc8a0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__librfn__benchmark.html#ga9f48050732fee46aeec8b7cf3fbc8a0f">rf_benchmark_finalize</a> (<a class="el" href="structrf__benchmark__t.html">rf_benchmark_t</a> *<a class="el" href="utiltest_8c.html#a424fd43fbf6184337ca3fd3346c1da6a">b</a>, uint64_t nominal, <a class="el" href="structrf__benchmark__results__t.html">rf_benchmark_results_t</a> *r)</td></tr>
<tr class="separator:ga9f48050732fee46aeec8b7cf3fbc8a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab8b80d3f3f1d2b90bfe04cba58b1250"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__librfn__benchmark.html#gaab8b80d3f3f1d2b90bfe04cba58b1250">rf_benchmark_results_show</a> (<a class="el" href="structrf__benchmark__results__t.html">rf_benchmark_results_t</a> *r, const char *tag)</td></tr>
<tr class="separator:gaab8b80d3f3f1d2b90bfe04cba58b1250"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Benchmark mechanism for real-time processing modules. </p>
<p>This module contains library routines designed to estimate the CPU load of real-time data processing.</p>
<p>Rather than measure the CPU load directly the routine is run as fast as possible and the nominal time (number of minutes of data processed) is compared to the elapsed time.</p>
<div class="fragment"><div class="line"><a class="code" href="structrf__benchmark__t.html">rf_benchmark_t</a> bm;</div>
<div class="line">uint64_t nominal;</div>
<div class="line"><a class="code" href="structrf__benchmark__results__t.html">rf_benchmark_results_t</a> results;</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__librfn__benchmark.html#gaced165602cb607a91f167b3831b81d4c">rf_benchmark_init</a>(&amp;m, 2000000);</div>
<div class="line"><span class="keywordflow">do</span> {</div>
<div class="line">    process_1ms_of_data();</div>
<div class="line">    nominal += 1000;</div>
<div class="line">} <span class="keywordflow">while</span> (<a class="code" href="group__librfn__benchmark.html#ga5827f6f9656fcac6ab1a904c512a6c27">rf_benchmark_running</a>(&amp;bm);</div>
<div class="line"><a class="code" href="group__librfn__benchmark.html#ga9f48050732fee46aeec8b7cf3fbc8a0f">rf_benchmark_finalize</a>(&amp;bm, nominal, &amp;results);</div>
<div class="line"><a class="code" href="group__librfn__benchmark.html#gaab8b80d3f3f1d2b90bfe04cba58b1250">rf_benchmark_results_show</a>(&amp;results, <span class="stringliteral">&quot;process_1ms_of_data:&quot;</span>);</div>
</div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga9f48050732fee46aeec8b7cf3fbc8a0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rf_benchmark_finalize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrf__benchmark__t.html">rf_benchmark_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>nominal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrf__benchmark__results__t.html">rf_benchmark_results_t</a> *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate the benchmark results by comparing the actual runtime to the nominal runtime. </p>

<p>Definition at line <a class="el" href="librfn_2benchmark_8c_source.html#l00040">40</a> of file <a class="el" href="librfn_2benchmark_8c_source.html">benchmark.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaced165602cb607a91f167b3831b81d4c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rf_benchmark_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrf__benchmark__t.html">rf_benchmark_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>runtime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a benchmark structure.</p>
<ul>
<li>runtime Minimum time (in microseconds) that the benchmark must run for. </li>
</ul>

<p>Definition at line <a class="el" href="librfn_2benchmark_8c_source.html#l00023">23</a> of file <a class="el" href="librfn_2benchmark_8c_source.html">benchmark.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaab8b80d3f3f1d2b90bfe04cba58b1250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rf_benchmark_results_show </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrf__benchmark__results__t.html">rf_benchmark_results_t</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="librfn_2benchmark_8c_source.html#l00052">52</a> of file <a class="el" href="librfn_2benchmark_8c_source.html">benchmark.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga5827f6f9656fcac6ab1a904c512a6c27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rf_benchmark_running </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrf__benchmark__t.html">rf_benchmark_t</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test whether the benchmark has completed it's minimum runtime. </p>

<p>Definition at line <a class="el" href="librfn_2benchmark_8c_source.html#l00034">34</a> of file <a class="el" href="librfn_2benchmark_8c_source.html">benchmark.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Feb 6 2016 21:25:32 for librfn by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
